<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>قفل کد سامسونت مخوف</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #333333 0%, #222222 25%, #111111 50%, #000000 75%, #111111 100%);
            font-family: 'Orbitron', monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: #ddd;
            overflow: hidden;
            position: relative;
        }
        
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 2px,
                    rgba(0, 0, 0, 0.1) 2px,
                    rgba(0, 0, 0, 0.1) 4px
                ),
                repeating-linear-gradient(
                    90deg,
                    transparent,
                    transparent 2px,
                    rgba(0, 0, 0, 0.08) 2px,
                    rgba(0, 0, 0, 0.08) 4px
                ),
                radial-gradient(circle at 50% 50%, rgba(255,0,0,0.05) 0%, transparent 50%);
            pointer-events: none;
            animation: eerieGlow 10s ease-in-out infinite;
        }
        
        @keyframes eerieGlow {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }
        
        .container {
            position: relative;
            padding: 60px 40px;
            background: linear-gradient(145deg, #444444 0%, #333333 100%);
            border-radius: 20px;
            box-shadow: 
                0 25px 80px rgba(0,0,0,0.95),
                inset 0 1px 0 rgba(255,0,0,0.1);
            border: 3px solid #222222;
        }
        
        .title {
            text-align: center;
            font-size: 2em;
            color: #ff4444;
            margin-bottom: 30px;
            font-weight: 900;
            text-shadow: 0 2px 4px rgba(0,0,0,0.9), 0 0 20px rgba(255,0,0,0.5);
        }
        
        .lock-body {
            background: linear-gradient(145deg, #333333 0%, #444444 50%, #333333 100%);
            padding: 40px 30px;
            border-radius: 15px;
            box-shadow: 
                inset 0 8px 20px rgba(0,0,0,0.8),
                0 8px 25px rgba(0,0,0,0.7),
                0 0 30px rgba(255,0,0,0.2);
            border: 2px solid #222222;
            position: relative;
        }
        
        .wheels-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            margin: 20px 0;
            background: linear-gradient(145deg, #222222 0%, #333333 100%);
            padding: 25px 20px;
            border-radius: 12px;
            box-shadow: 
                inset 0 6px 15px rgba(0,0,0,0.9),
                0 4px 12px rgba(0,0,0,0.7);
        }
        
        .wheel-assembly {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            margin: 0 2px;
        }
        
        /* غلتک مستطیلی */
        .code-wheel {
            width: 70px;
            height: 200px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 8px;
            overflow: visible;
            border: 3px solid #111111;
            box-shadow: 
                0 8px 25px rgba(0,0,0,0.9),
                inset 0 2px 6px rgba(255,255,255,0.05),
                inset 0 -2px 6px rgba(0,0,0,0.8);
        }
        
        /* اصلاح خط CSS ناقص */
        .code-wheel:hover {
            transform: scale(1.02);
            box-shadow: 
                0 10px 30px rgba(0,0,0,0.95),
                inset 0 2px 6px rgba(255,255,255,0.1),
                inset 0 -2px 6px rgba(0,0,0,0.9);
        }
        
        /* رنگ‌های متفاوت برای هر غلتک */
        .code-wheel.blue {
            background: linear-gradient(to bottom, #001f3f 0%, #003366 100%);
        }
        
        .code-wheel.black {
            background: linear-gradient(to bottom, #000000 0%, #111111 100%);
        }
        
        .code-wheel.yellow {
            background: linear-gradient(to bottom, #b3a000 0%, #cc9900 100%);
        }
        
        .code-wheel.red {
            background: linear-gradient(to bottom, #660000 0%, #990000 100%);
        }
        
        /* سه تقسیم روی غلتک */
        .wheel-segment {
            width: 100%;
            height: 66.66px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            border-bottom: 2px solid #111111;
            transition: all 0.3s ease;
        }
        
        .wheel-segment:last-child {
            border-bottom: none;
        }
        
        /* عدد روی هر تقسیم */
        .segment-number {
            font-size: 1.8em;
            font-weight: 900;
            color: #ffffff;
            text-shadow: 
                0 1px 2px rgba(0,0,0,0.9),
                0 -1px 1px rgba(0,0,0,0.9);
            font-family: 'Orbitron', monospace;
            background: linear-gradient(145deg, #333333 0%, #222222 100%);
            width: 50px;
            height: 45px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 6px;
            border: 2px solid #111111;
            box-shadow: 
                inset 0 2px 4px rgba(0,0,0,0.9),
                inset 0 -2px 4px rgba(0,0,0,0.5),
                0 2px 6px rgba(0,0,0,0.6);
        }
        
        /* تقسیم فعال (وسطی) */
        .wheel-segment.active .segment-number {
            background: linear-gradient(145deg, #444444 0%, #333333 100%);
            border-color: #222222;
            transform: scale(1.1);
            box-shadow: 
                inset 0 3px 6px rgba(0,0,0,0.9),
                inset 0 -3px 6px rgba(0,0,0,0.7),
                0 3px 10px rgba(0,0,0,0.8),
                0 0 15px rgba(255,0,0,0.3);
            color: #ff4444;
            font-weight: 900;
        }
        
        /* خطوط تقسیم */
        .code-wheel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(
                    90deg,
                    transparent 0px,
                    rgba(0,0,0,0.3) 1px,
                    transparent 2px,
                    transparent 10px
                );
            pointer-events: none;
            border-radius: 5px;
        }
        
        /* نشانگر موقعیت */
        .position-marker {
            position: absolute;
            left: -20px;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-top: 12px solid transparent;
            border-bottom: 12px solid transparent;
            border-left: 15px solid #ff0000;
            filter: drop-shadow(2px 0 6px rgba(255,0,0,0.5));
            z-index: 10;
            animation: pulseMarker 2s infinite;
        }
        
        .position-marker-right {
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-top: 12px solid transparent;
            border-bottom: 12px solid transparent;
            border-right: 15px solid #ff0000;
            filter: drop-shadow(-2px 0 6px rgba(255,0,0,0.5));
            z-index: 10;
            animation: pulseMarker 2s infinite;
        }

        @keyframes pulseMarker {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }
        
        /* افکت چرخش پیشرفته */
        .wheel-rolling {
            animation: wheelRoll 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        @keyframes wheelRoll {
            0% { transform: rotateX(0deg) scale(1); }
            30% { transform: rotateX(30deg) scale(1.05); }
            60% { transform: rotateX(-20deg) scale(0.98); }
            100% { transform: rotateX(0deg) scale(1); }
        }
        
        .combination-display {
            text-align: center;
            margin: 25px 0;
            font-size: 1.5em;
            color: #ff4444;
            text-shadow: 0 0 15px rgba(255,0,0,0.5);
            font-weight: 700;
            animation: flicker 3s infinite;
        }
        
        @keyframes flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .unlock-btn {
            display: block;
            margin: 25px auto;
            padding: 15px 40px;
            background: linear-gradient(145deg, #990000 0%, #660000 100%);
            color: #fff;
            border: none;
            border-radius: 10px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0,0,0,0.8), 0 0 20px rgba(255,0,0,0.3);
            font-weight: 700;
            border: 2px solid #440000;
        }
        
        .unlock-btn:hover {
            background: linear-gradient(145deg, #cc0000 0%, #990000 100%);
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.9), 0 0 30px rgba(255,0,0,0.5);
        }
        
        .reset-btn {
            display: block;
            margin: 15px auto;
            padding: 12px 30px;
            background: linear-gradient(145deg, #444444 0%, #333333 100%);
            color: #ff4444;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.8);
            font-weight: 700;
            border: 2px solid #222222;
        }
        
        .reset-btn:hover {
            background: linear-gradient(145deg, #555555 0%, #444444 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.9);
        }
        
        .status {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            font-size: 1.2em;
            background: rgba(0,0,0,0.7);
            border-radius: 10px;
            border: 2px solid rgba(255, 0, 0, 0.2);
            box-shadow: 
                inset 0 4px 12px rgba(0,0,0,0.8),
                0 4px 16px rgba(0,0,0,0.6),
                0 0 25px rgba(255,0,0,0.3);
        }
        
        .locked {
            color: #ff0000;
            text-shadow: 0 0 20px rgba(255,0,0,0.8);
        }
        
        .unlocked {
            color: #00ff00;
            text-shadow: 0 0 20px rgba(0,255,0,0.8);
        }
        
        .instructions {
            text-align: center;
            margin: 20px 0;
            font-size: 0.9em;
            color: #999999;
            background: rgba(0,0,0,0.5);
            padding: 15px;
            border-radius: 8px;
            border: 1px solid rgba(255, 0, 0, 0.1);
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-8px) rotate(-2deg); }
            20%, 40%, 60%, 80% { transform: translateX(8px) rotate(2deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">💀 قفل کد سامسونت مخوف</h1>

        <div class="instructions">
            غلتک‌ها را با لمس بالا/پایین بچرخانید • هر غلتک سه عدد نمایش می‌دهد
        </div>
        
        <div class="combination-display">
            کد فعلی: <span id="currentCombination">0123</span>
        </div>

        <div class="lock-body">
            <div class="wheels-container">
                <!-- غلتک اول - آبی -->
                <div class="wheel-assembly">
                    <div class="position-marker"></div>
                    <div class="code-wheel blue" id="wheel-0">
                        <div class="wheel-segment">
                            <div class="segment-number" id="wheel-0-top">9</div>
                        </div>
                        <div class="wheel-segment active">
                            <div class="segment-number" id="wheel-0-center">0</div>
                        </div>
                        <div class="wheel-segment">
                            <div class="segment-number" id="wheel-0-bottom">1</div>
                        </div>
                    </div>
                    <div class="position-marker-right"></div>
                </div>
                
                <!-- غلتک دوم - مشکی -->
                <div class="wheel-assembly">
                    <div class="position-marker"></div>
                    <div class="code-wheel black" id="wheel-1">
                        <div class="wheel-segment">
                            <div class="segment-number" id="wheel-1-top">0</div>
                        </div>
                        <div class="wheel-segment active">
                            <div class="segment-number" id="wheel-1-center">1</div>
                        </div>
                        <div class="wheel-segment">
                            <div class="segment-number" id="wheel-1-bottom">2</div>
                        </div>
                    </div>
                    <div class="position-marker-right"></div>
                </div>
                
                <!-- غلتک سوم - زرد -->
                <div class="wheel-assembly">
                    <div class="position-marker"></div>
                    <div class="code-wheel yellow" id="wheel-2">
                        <div class="wheel-segment">
                            <div class="segment-number" id="wheel-2-top">1</div>
                        </div>
                        <div class="wheel-segment active">
                            <div class="segment-number" id="wheel-2-center">2</div>
                        </div>
                        <div class="wheel-segment">
                            <div class="segment-number" id="wheel-2-bottom">3</div>
                        </div>
                    </div>
                    <div class="position-marker-right"></div>
                </div>
                
                <!-- غلتک چهارم - قرمز -->
                <div class="wheel-assembly">
                    <div class="position-marker"></div>
                    <div class="code-wheel red" id="wheel-3">
                        <div class="wheel-segment">
                            <div class="segment-number" id="wheel-3-top">2</div>
                        </div>
                        <div class="wheel-segment active">
                            <div class="segment-number" id="wheel-3-center">3</div>
                        </div>
                        <div class="wheel-segment">
                            <div class="segment-number" id="wheel-3-bottom">4</div>
                        </div>
                    </div>
                    <div class="position-marker-right"></div>
                </div>
            </div>
        </div>
        
        <button class="unlock-btn" onclick="tryUnlock()">🔓 باز کردن</button>
        <button class="reset-btn" onclick="resetLock()">🔄 ریست</button>
        
        <div class="status locked" id="status">
            قفل بسته است... کد صحیح را پیدا کنید
        </div>
    </div>

    <script>
        let currentCombination = [0, 1, 2, 3]; // شروع با کد 0123
        const correctCombination = [5, 4, 7, 1]; // تغییر به رمز 5471
        let isLocked = true;
        
        function updateWheelDisplay(wheelIndex) {
            const current = currentCombination[wheelIndex];
            const top = (current - 1 + 10) % 10;
            const bottom = (current + 1) % 10;
            
            document.getElementById(`wheel-${wheelIndex}-top`).textContent = top;
            document.getElementById(`wheel-${wheelIndex}-center`).textContent = current;
            document.getElementById(`wheel-${wheelIndex}-bottom`).textContent = bottom;
        }
        
        function rollWheel(wheelIndex, direction) {
            const wheel = document.getElementById(`wheel-${wheelIndex}`);
            
            // افکت چرخش
            wheel.classList.add('wheel-rolling');
            setTimeout(() => {
                wheel.classList.remove('wheel-rolling');
            }, 800);
            
            // تغییر عدد بر اساس جهت (بالا مثبت، پایین منفی)
            currentCombination[wheelIndex] = (currentCombination[wheelIndex] + direction + 10) % 10;
            
            updateWheelDisplay(wheelIndex);
            updateCombinationDisplay();
            
            // صدای کلیک
            if (navigator.vibrate) {
                navigator.vibrate(100);
            }
        }
        
        function updateCombinationDisplay() {
            document.getElementById('currentCombination').textContent = currentCombination.join('');
        }
        
        function tryUnlock() {
            const statusElement = document.getElementById('status');
            
            if (JSON.stringify(currentCombination) === JSON.stringify(correctCombination)) {
                statusElement.className = 'status unlocked';
                statusElement.innerHTML = '🎉 وحشتناک! قفل باز شد! 🎉<br>کد صحیح: ' + correctCombination.join('');
                isLocked = false;
                
                // افکت موفقیت مخوف
                document.body.style.background = 'linear-gradient(135deg, #006600 0%, #009900 25%, #00cc00 50%, #00ff00 75%, #33ff33 100%)';
                document.body.style.animation = 'shake 0.5s';
                setTimeout(() => {
                    document.body.style.background = 'linear-gradient(135deg, #333333 0%, #222222 25%, #111111 50%, #000000 75%, #111111 100%)';
                    document.body.style.animation = '';
                }, 4000);
                
            } else {
                statusElement.className = 'status locked';
                statusElement.innerHTML = '❌ کد نادرست!<br>تاریکی شما را احاطه کرده...';
                
                // افکت شکست مخوف
                const lockBody = document.querySelector('.lock-body');
                lockBody.style.animation = 'shake 0.8s ease-in-out';
                setTimeout(() => {
                    lockBody.style.animation = '';
                }, 800);
            }
        }
        
        function resetLock() {
            currentCombination = [0, 1, 2, 3]; // ریست به کد اولیه
            isLocked = true;
            
            for(let i = 0; i < 4; i++) {
                updateWheelDisplay(i);
            }
            
            updateCombinationDisplay();
            document.getElementById('status').className = 'status locked';
            document.getElementById('status').innerHTML = 'قفل ریست شد... تاریکی ادامه دارد';
        }
        
        // اضافه کردن swipe برای هر غلتک
        document.querySelectorAll('.code-wheel').forEach((wheel, index) => {
            let startY = 0;
            let isSwiping = false;
            
            wheel.addEventListener('touchstart', (e) => {
                startY = e.touches[0].clientY;
                isSwiping = true;
                e.preventDefault();
            }, { passive: false });
            
            wheel.addEventListener('touchmove', (e) => {
                if (!isSwiping) return;
                const currentY = e.touches[0].clientY;
                const deltaY = currentY - startY;
                
                if (Math.abs(deltaY) > 20) { // آستانه برای تشخیص swipe
                    const direction = deltaY > 0 ? -1 : 1; // پایین: مثبت (چرخش جلو)، بالا: منفی (چرخش عقب)
                    rollWheel(index, direction);
                    isSwiping = false; // جلوگیری از چرخش چندباره در یک swipe
                }
                
                e.preventDefault();
            }, { passive: false });
            
            wheel.addEventListener('touchend', () => {
                isSwiping = false;
            });
            
            // برای دسکتاپ: mouse events برای شبیه‌سازی swipe
            let startMouseY = 0;
            let isDragging = false;
            
            wheel.addEventListener('mousedown', (e) => {
                startMouseY = e.clientY;
                isDragging = true;
                e.preventDefault();
            });
            
            wheel.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                const currentMouseY = e.clientY;
                const deltaMouseY = currentMouseY - startMouseY;
                
                if (Math.abs(deltaMouseY) > 20) {
                    const direction = deltaMouseY > 0 ? -1 : 1;
                    rollWheel(index, direction);
                    isDragging = false;
                }
            });
            
            wheel.addEventListener('mouseup', () => {
                isDragging = false;
            });
            
            wheel.addEventListener('mouseleave', () => {
                isDragging = false;
            });
        });
        
        // کلیدهای صفحه‌کلید پیشرفته‌تر
        document.addEventListener('keydown', (e) => {
            if (e.key >= '1' && e.key <= '4') {
                const wheelIndex = parseInt(e.key) - 1;
                if (e.shiftKey) {
                    rollWheel(wheelIndex, -1);
                } else {
                    rollWheel(wheelIndex, 1);
                }
            } else if (e.key === 'Enter') {
                tryUnlock();
            } else if (e.key === 'Escape') {
                resetLock();
            } else if (e.key === ' ') {
                e.preventDefault();
                rollWheel(0, 1);
            }
        });
        
        // مقداردهی اولیه
        for(let i = 0; i < 4; i++) {
            updateWheelDisplay(i);
        }
        updateCombinationDisplay();
    </script>
</body>
</html>
